# 2019-11-1 周五
可以为空的请求验证一定要记得加上 `nullable`

# 2019-11-4 周一

使用 Metabase 导出至网页：

<iframe
    src="https://db.tabll.cn/public/question/80678cf0-9af9-42e0-9fad-36e2c678ccb7"
    frameborder="0"
    width=100%
    height="600"
    allowtransparency
></iframe>

<iframe
    src="https://db.tabll.cn/public/question/a6bfa9e8-9b31-446c-9791-6495f51b7c24"
    frameborder="0"
    width= 100%
    height="600"
    allowtransparency
></iframe>

<iframe
    src="https://db.tabll.cn/public/question/c48a4a6e-5f7a-4886-95a3-a26532b7e648"
    frameborder="0"
    width=100%
    height="600"
    allowtransparency
></iframe>

<iframe
    src="https://db.tabll.cn/public/question/0ffe3d14-130c-4739-9030-10048af18346"
    frameborder="0"
    width=100%
    height="600"
    allowtransparency
></iframe>

# 2019-11-5 周二
#### Laravel 5.5 BUG
`alpha_num` -> 验证的字段必须完全是字母、数字。
然而实际上中文也能够通过验证
正确的方式是使用正则表达式来验证：
```php
'account' => array(
                'nullable',
                'regex:/^[A-Za-z0-9]+$/',
                'max:256',
            ),
```

# 2019-11-6 周三
修改数据库用户的验证方式为 MYSQL 原生验证
```sql
mysql -u root -p

select host,user,plugin,authentication_string from mysql.user;

ALTER USER 'root'@'%' IDENTIFIED WITH mysql_native_password BY '00000000';
```

# 2019-11-7 周四
### 正则表达式
匹配中文的时候，需要在后面加上一个 `u` 表示这是 `UTF-8` 字符集
```php
// 匹配字符串中包含中文
$a = '/[\x{4e00}-\x{9fa5}]/u';
$str = "1cd";
preg_match($a, $str);
```

# 2019-11-8 周五
### `Redis` 配置
#### 使配置文件生效
**Portainer** 中：
`Command` 里填写 `'redis-server' '/data/redis.conf'`
`Volumes` 里的 `/data` 指向 `Docker` 里的 `Volume`

设置密码：
```conf
requirepass PASSWORD
```
设置可以远程访问
```conf
# bind 127.0.0.1
```

# 2019-11-9 周六

验证日期比较：

> after:date
> after_or_equal:date
> before:finish_date
> before_or_equal:date
> date_equals:date
> date_format:format

示例：

```php
public function rules()
{
    return [
        'content' => 'required|string',
        'start_date' => 'required|date|before:finish_date',
        'finish_date' => 'required|date',
        'link' => 'required|string',
        'is_https' => 'required|integer|in:0,1',
    ];
}

public function messages()
{
    return [
        'content.required' => '轮播内容必填',
        'start_date.required' => '轮播开始日期必填',
        'finish_date.required' => '轮播结束日期必填',
        'link.required' => '跳转链接必填',
        'is_https.required' => 'HTTP协议必填',
        'start_date.before' => '开始日期必须在结束日期之前',
    ];
}
```
